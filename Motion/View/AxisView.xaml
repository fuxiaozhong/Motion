<UserControl
    x:Class="Motion.View.AxisView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converter="clr-namespace:Motion.Converter"
    xmlns:core="clr-namespace:Motion.Core"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:global="clr-namespace:Motion.Config"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:Motion.ViewModel"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="clr-namespace:Motion.Model"
    x:Name="userControl"
    d:DataContext="{d:DesignInstance local:AxisViewModel}"
    d:DesignHeight="800"
    d:DesignWidth="1200"
    mah:DialogParticipation.Register="{Binding}"
    mc:Ignorable="d"
    >
    <UserControl.Resources>
        <converter:UserToVisibilityConverter x:Key="UserToVisibilityConverterResource" />
        <global:SystemState x:Key="SystemStateResource" />
        <global:GlobalParameter x:Key="GlobalParameterResource" />
        <converter:BoolToColorConverter x:Key="BoolToColorConverterResource" />
        <converter:UserToIsEnabledConverter x:Key="UserToIsEnabledConverterResource" />
        <converter:UserToIsReadOnlyConverter x:Key="UserToIsReadOnlyConverterResource" />
        <Style x:Key="CenteredCellStyle" TargetType="DataGridCell">
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <Style TargetType="DataGridColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <!--  定义 ListViewItem 的样式，使单元格文本水平和垂直居中  -->
        <Style TargetType="ListViewItem">
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <!--  定义 GridViewColumnHeader 的样式，使标题文本水平和垂直居中  -->
        <Style TargetType="GridViewColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
    </UserControl.Resources>
    <Grid ShowGridLines="False">
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition Height="40" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <Label
            Grid.ColumnSpan="2"
            Padding="10,0,0,0"
            VerticalContentAlignment="Center"
            BorderBrush="Gray"
            BorderThickness="0,0,0,1"
            Content="轴页面"
            FontSize="14"
            FontWeight="Bold"
            />
        <ListView
            Grid.Row="1"
            Grid.RowSpan="2"
            Grid.ColumnSpan="2"
            Background="Transparent"
            ItemsSource="{Binding AxisInfos, Source={StaticResource GlobalParameterResource}}"
            ScrollViewer.CanContentScroll="True"
            ScrollViewer.HorizontalScrollBarVisibility="Auto"
            ScrollViewer.VerticalScrollBarVisibility="Auto"
            SelectedItem="{Binding AxisInfo}"
            SelectionMode="Single"
            VirtualizingStackPanel.IsVirtualizing="True"
            VirtualizingStackPanel.VirtualizationMode="Standard"
            >
            <ListView.ContextMenu>
                <ContextMenu>
                    <!--  菜单项 1  -->
                    <MenuItem Command="{Binding AddAxisCommand}" Header="添加轴" />
                    <!--  菜单项 2  -->
                    <MenuItem Command="{Binding DeleteAxisCommand}" Header="删除轴" />
                </ContextMenu>
            </ListView.ContextMenu>
            <ListView.View>

                <GridView>

                    <GridView.ColumnHeaderContainerStyle>
                        <Style TargetType="GridViewColumnHeader">
                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                            <Setter Property="VerticalAlignment" Value="Center" />
                            <Setter Property="SnapsToDevicePixels" Value="True" />
                            <Setter Property="Height" Value="30" />
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="Opacity" Value="1" />
                            <Setter Property="FontWeight" Value="Semibold" />
                            <Setter Property="Foreground" Value="#464457" />
                            <Setter Property="FontSize" Value="15" />
                        </Style>
                    </GridView.ColumnHeaderContainerStyle>
                    <GridViewColumn Width="80" Header="轴名称">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding AxisName}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="轴号">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding AxisNumber}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <GridViewColumn Width="80" Header="运动">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Background="{Binding Moving, Converter={StaticResource BoolToColorConverterResource}}"
                                    CornerRadius="10"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="正限位">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Background="{Binding PLimit, Converter={StaticResource BoolToColorConverterResource}}"
                                    CornerRadius="10"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="原点">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Background="{Binding OLimit, Converter={StaticResource BoolToColorConverterResource}}"
                                    CornerRadius="10"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="负限位">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Background="{Binding NLimit, Converter={StaticResource BoolToColorConverterResource}}"
                                    CornerRadius="10"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>


                    <GridViewColumn Width="80" Header="使能">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Background="{Binding Enable, Converter={StaticResource BoolToColorConverterResource}}"
                                    CornerRadius="10"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn
                        Width="80"
                        DisplayMemberBinding="{Binding NowPulse}"
                        Header="当前脉冲"
                        />
                    <GridViewColumn
                        Width="80"
                        DisplayMemberBinding="{Binding NowEncoder}"
                        Header="当前ENC"
                        />

                    <GridViewColumn
                        Width="80"
                        DisplayMemberBinding="{Binding NowSpeed}"
                        Header="当前速度"
                        />

                    <GridViewColumn Width="100" Header="使能">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Button
                                    Width="80"
                                    Command="{Binding DataContext.AxisEnableCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                    CommandParameter="{Binding AxisNumber}"
                                    Content="使能"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="100" Header="回原点">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Button
                                    Width="80"
                                    Command="{Binding DataContext.AxisGoHomeCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                    CommandParameter="{Binding AxisNumber}"
                                    Content="回原"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="100" Header="正向运动">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Button Width="80" Content="Jog +">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="PreviewMouseLeftButtonUp">
                                            <i:InvokeCommandAction Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.ForwardMovePutUp}" CommandParameter="{Binding AxisNumber}" />
                                        </i:EventTrigger>
                                        <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                            <i:InvokeCommandAction Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.ForwardMovePress}" CommandParameter="{Binding AxisNumber}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </Button>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="100" Header="反向运动">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Button Width="80" Content="Jog -">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="PreviewMouseLeftButtonUp">
                                            <i:InvokeCommandAction Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.ReverseMovePutUp}" CommandParameter="{Binding AxisNumber}" />
                                        </i:EventTrigger>
                                        <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                            <i:InvokeCommandAction Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.ReverseMovePress}" CommandParameter="{Binding AxisNumber}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </Button>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                </GridView>
            </ListView.View>
        </ListView>

        <ScrollViewer Grid.Row="2" Grid.Column="0">
            <StackPanel>

                <Label
                    Padding="10,0,0,0"
                    VerticalContentAlignment="Center"
                    BorderBrush="Gray"
                    BorderThickness="0,0,0,1"
                    Content="轴参数"
                    FontSize="14"
                    FontWeight="Bold"
                    />
                <WrapPanel Margin="4" Orientation="Horizontal">
                    <Label
                        Width="80"
                        HorizontalContentAlignment="Right"
                        VerticalContentAlignment="Center"
                        Content="当前轴号:"
                        FontSize="14"
                        FontWeight="Bold"
                        />
                    <TextBox
                        Width="50"
                        IsReadOnly="True"
                        Text="{Binding AxisInfo.AxisNumber}"
                        TextAlignment="Center"
                        />
                    <Label
                        Width="80"
                        HorizontalContentAlignment="Right"
                        VerticalContentAlignment="Center"
                        Content="当前轴名称:"
                        FontSize="14"
                        FontWeight="Bold"
                        />
                    <TextBox
                        Width="150"
                        IsReadOnly="True"
                        Text="{Binding AxisInfo.AxisName}"
                        TextAlignment="Center"
                        />
                </WrapPanel>
                <Expander Header="寸动" IsExpanded="True">
                    <WrapPanel Margin="2" Orientation="Horizontal">
                        <StackPanel Orientation="Horizontal">
                            <Label
                                Width="80"
                                HorizontalContentAlignment="Right"
                                VerticalContentAlignment="Center"
                                Content="寸动模式:"
                                FontSize="14"
                                FontWeight="Bold"
                                />
                            <ComboBox
                                Width="100"
                                ItemsSource="{Binding AxisMotionModels}"
                                SelectedItem="{Binding AxisInfo.InchModel}"
                                Text=""
                                />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Label
                                Width="80"
                                HorizontalContentAlignment="Right"
                                VerticalContentAlignment="Center"
                                Content="寸动距离:"
                                FontSize="14"
                                FontWeight="Bold"
                                />
                            <TextBox
                                Width="100"
                                Text="{Binding AxisInfo.InchLength}"
                                TextAlignment="Center"
                                />
                            <Label Content="mm" />
                        </StackPanel>
                        <Button
                            Width="100"
                            Command="{Binding AxisMoveLengthCommand}"
                            CommandParameter="{Binding AxisInfo.AxisNumber}"
                            Content="移动"
                            />
                    </WrapPanel>
                </Expander>
                <Expander Header="Jog" IsExpanded="True">
                    <StackPanel>
                        <WrapPanel Margin="2" Orientation="Horizontal">
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="最大速度:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.JogSpeed}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="加速时间:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.JogAccTime}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="减速时间:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.JogDecTime}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="平滑时间:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.JogStime}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                        </WrapPanel>
                        <WrapPanel Margin="2" Orientation="Horizontal">
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="停止模式:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <ComboBox
                                    Width="100"
                                    ItemsSource="{Binding AxisStopModels}"
                                    SelectedItem="{Binding AxisInfo.JogStopModel}"
                                    />
                            </StackPanel>
                        </WrapPanel>
                    </StackPanel>

                </Expander>
                <Expander Header="回原" IsExpanded="True">
                    <StackPanel>
                        <WrapPanel Margin="2" Orientation="Horizontal">
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="停止模式:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <ComboBox
                                    Width="100"
                                    ItemsSource="{Binding AxisStopModels}"
                                    SelectedItem="{Binding AxisInfo.GoHomeStopModel}"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="回零模式:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.GoHomeModel}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="回零低速:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.GoHomeLowSpeed}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="回零高速:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    Text="{Binding AxisInfo.GoHomeHighSpeed}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                        </WrapPanel>

                        <WrapPanel Margin="2" Orientation="Horizontal">
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="回零偏移:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <CheckBox
                                    x:Name="checkBox"
                                    Width="100"
                                    Content="启用"
                                    IsChecked="{Binding AxisInfo.GoHomeOffset}"
                                    />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="80"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    Content="偏移位置:"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    />
                                <TextBox
                                    Width="100"
                                    IsEnabled="{Binding IsChecked, ElementName=checkBox}"
                                    Text="{Binding AxisInfo.GoHomeOffsetPosition}"
                                    TextAlignment="Center"
                                    />
                            </StackPanel>
                        </WrapPanel>
                    </StackPanel>
                </Expander>
            </StackPanel>
        </ScrollViewer>
        <ListView
            Grid.Row="2"
            Grid.Column="1"
            Background="Transparent"
            ItemsSource="{Binding AxisInfo.PointInfos}"
            ScrollViewer.CanContentScroll="True"
            ScrollViewer.HorizontalScrollBarVisibility="Auto"
            ScrollViewer.VerticalScrollBarVisibility="Auto"
            SelectedItem="{Binding pointInfo}"
            SelectionMode="Single"
            VirtualizingStackPanel.IsVirtualizing="True"
            VirtualizingStackPanel.VirtualizationMode="Standard"
            >
            <ListView.ContextMenu>
                <ContextMenu>
                    <!--  菜单项 1  -->
                    <MenuItem Command="{Binding AddPointCommand}" Header="添加点位" />
                    <!--  菜单项 2  -->
                    <MenuItem Header="删除点位" />
                </ContextMenu>
            </ListView.ContextMenu>
            <ListView.View>

                <GridView>

                    <GridView.ColumnHeaderContainerStyle>
                        <Style TargetType="GridViewColumnHeader">
                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                            <Setter Property="VerticalAlignment" Value="Center" />
                            <Setter Property="SnapsToDevicePixels" Value="True" />
                            <Setter Property="Height" Value="30" />
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="Opacity" Value="1" />
                            <Setter Property="FontWeight" Value="Semibold" />
                            <Setter Property="Foreground" Value="#464457" />
                            <Setter Property="FontSize" Value="15" />
                        </Style>
                    </GridView.ColumnHeaderContainerStyle>
                    <GridViewColumn Width="80" Header="ID">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="True"
                                    Text="{Binding PointID}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="点位名称">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding PointName}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="起始速度">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding DStartVel}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="运行速度">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding DMaxVel}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="加速时间">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding DTacc}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="减速时间">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding DTdec}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="停止速度">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding DStopVel}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="位置">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding Postation}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="平滑时间">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding SmoothTime}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="到位精度">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding Accuracy}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="80" Header="超时时间">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type TextBox}">
                                <TextBox
                                    Width="70"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    IsReadOnly="{Binding NowUser, Source={StaticResource SystemStateResource}, Converter={StaticResource UserToIsReadOnlyConverterResource}}"
                                    Text="{Binding Timeout}"
                                    TextAlignment="Center"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <GridViewColumn Width="100" Header="示教">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Button
                                    Width="80"
                                    Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.TeachPointCommand}"
                                    CommandParameter="{Binding PointID}"
                                    Content="示教"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>





                    <GridViewColumn Width="100" Header="运动">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate DataType="{x:Type Border}">
                                <Button
                                    Width="80"
                                    Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.MovePointCommand}"
                                    CommandParameter="{Binding PointID}"
                                    Content="移动"
                                    />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>


                </GridView>
            </ListView.View>
        </ListView>
        <Button
            Grid.Row="3"
            Grid.ColumnSpan="2"
            Width="250"
            Margin="3"
            Command="{Binding SaveCommand}"
            Content="保  存"
            />
    </Grid>
</UserControl>